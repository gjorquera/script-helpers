#!/usr/bin/env bash

title() { echo -e "\033[0;34m\n${1}\n\033[0m"; }

check() {
  echo -n "$1... "
  if (exec &>/dev/null; eval $1); then
    echo -e "\033[0;32m✓ done\033[0m"
  else
    echo -e "\033[0;31m✗ error!$([ -z "$2" ] || echo "\nTry: $2")" && exit 1
  fi
}

cached() {
  local cache=$(cat ".cache.${1//\//_}" || echo "")
  local new_cache=$($([ -f $1 ] && cat $1 || ls -l $1) | shasum)
  echo "$new_cache" > ".cache.${1//\//_}" && [[ "$new_cache" == "$cache" ]]
}
